---
layout: linked_pages/tp
title: "TP1 - Prise en main"
slug: "3-authentification"

page: 3
---

L'accÃ¨s Ã  l'application sera protÃ©gÃ© par un contrÃ´le d'accÃ¨s et une authentification.

## 1. Utilisateurs

- CrÃ©ation entitÃ© `User`
  - `make:user` => _Maker_ permettant la crÃ©ation de l'entitÃ© de l'utilisateur
- CrÃ©ation entitÃ© `Role`
  - DÃ©finit une relation `ManyToOne` => plusieurs utilisateurs peuvent Ãªtre associÃ©s au mÃªme rÃ´le

### ğŸ¤¡ Fixtures et Faker

> GÃ©nÃ©rer des fixtures pour des utilisateurs de base, dont l'utilisateur "admin" qui Ã©copera du rÃ´le `ROLE_ADMIN`.

## 2. Connexion

- `make:security:form-login` => gÃ©nÃ¨re le formulaire de connexion
  - IntÃ©grer le "logout" Ã©galement 
  - Ã€ reprendre pour coller aux conventions indiquÃ©es jusqu'Ã  prÃ©sent et pour traduire en ğŸ‡«ğŸ‡·

## 3. Droits d'accÃ¨s

- Configuration du `access_control` pour les contrÃ´les d'accÃ¨s :
  - `PUBLIC_ACCESS` pour la page de "login" et les pages "informatives" (Ã©ventuellement)
  - `IS_AUTHENTICATED` pour le reste
- Configuration des droits d'accÃ¨s selon le rÃ´le :
  - `ROLE_ADMIN` pour la crÃ©ation, modification et suppression
  - `#[IsGranted]` (ğŸ•¸ï¸ Controller) et `is_granted` (ğŸŒ¿ Twig)

## 4. Inscription

- â• `symfonycasts/verify-email-bundle` => permet d'envoyer un mail de validation de l'inscription
- `make:registration-form` => gÃ©nÃ¨re le formulaire d'inscription
  - âš ï¸ GÃ©nÃ¨re une modification de l'entitÃ© `User`
  - Ã€ reprendre pour coller aux conventions indiquÃ©es jusqu'Ã  prÃ©sent et pour traduire en ğŸ‡«ğŸ‡·
  - ğŸ›‚ Doit Ãªtre accessible en "accÃ¨s public"
